<div class="main-container">
  <div class="cinema">
    <div class="showcase">
      <div class="seat"></div> AVAILABLE
      <div class="seat-unavailable"></div> UNAVAILABLE
      <div class="seat-selected"></div> SELECTED
    </div>

    <h1>SCREEN</h1>
    <div class="cinema">
      <div class="row">
        <button type="button" (click)="seatCount(0,0)" [disabled]="emptySeat(0,0)" class="seat" id="0,0">0,0</button>
        <button type="button" (click)="seatCount(0,1)" [disabled]="emptySeat(0,1)" class="seat" id="0,1">0,1</button>
        <button type="button" (click)="seatCount(0,2)" [disabled]="emptySeat(0,2)" class="seat" id="0,2">0,2</button>
        <button type="button" (click)="seatCount(0,3)" [disabled]="emptySeat(0,3)" class="seat" id="0,3">0,3</button>
      </div>
      <div class="row">
        <button type="button" (click)="seatCount(1,0)" [disabled]="emptySeat(1,0)" class="seat" id="1,0">1,0</button>
        <button type="button" (click)="seatCount(1,1)" [disabled]="emptySeat(1,1)" class="seat" id="1,1">1,1</button>
        <button type="button" (click)="seatCount(1,2)" [disabled]="emptySeat(1,2)" class="seat" id="1,2">1,2</button>
        <button type="button" (click)="seatCount(1,3)" [disabled]="emptySeat(1,3)" class="seat" id="1,3">1,3</button>
      </div>
      <div class="row">
        <button type="button" (click)="seatCount(2,0)" [disabled]="emptySeat(2,0)" class="seat" id="2,0">2,0</button>
        <button type="button" (click)="seatCount(2,1)" [disabled]="emptySeat(2,1)" class="seat" id="2,1">2,1</button>
        <button type="button" (click)="seatCount(2,2)" [disabled]="emptySeat(2,2)" class="seat" id="2,2">2,2</button>
        <button type="button" (click)="seatCount(2,3)" [disabled]="emptySeat(2,3)" class="seat" id="2,3">2,3</button>
      </div>
      <div class="row">
        <button type="button" (click)="seatCount(3,0)" [disabled]="emptySeat(3,0)" class="seat" id="3,0">3,0</button>
        <button type="button" (click)="seatCount(3,1)" [disabled]="emptySeat(3,1)" class="seat" id="3,1">3,1</button>
        <button type="button" (click)="seatCount(3,2)" [disabled]="emptySeat(3,2)" class="seat" id="3,2">3,2</button>
        <button type="button" (click)="seatCount(3,3)" [disabled]="emptySeat(3,3)" class="seat" id="3,3">3,3</button>
      </div>
      <div class="row">
        <button type="button" (click)="seatCount(4,0)" [disabled]="emptySeat(4,0)" class="seat" id="4,0">4,0</button>
        <button type="button" (click)="seatCount(4,1)" [disabled]="emptySeat(4,1)" class="seat" id="4,1">4,1</button>
        <button type="button" (click)="seatCount(4,2)" [disabled]="emptySeat(4,2)" class="seat" id="4,2">4,2</button>
        <button type="button" (click)="seatCount(4,3)" [disabled]="emptySeat(4,3)" class="seat" id="4,3">4,3</button>
      </div>
    </div>
  </div>

  <div class="cinema">
    <div class="select-items-container">
      <!-- <p>Select Items to Purchase</p> -->
      <p id="movie-title">{{getMovieTitle()}}</p>
      <div class="movie-poster-container">
        <img id="movieImg" src="{{getMoviePoster()}}" alt="Movie poster for {{getMovieTitle()}}" />
      </div>
      <p id="info">Enter number of tickets:</p>
      <p id="tickets-input">{{numOfTickets}}</p>
      <button id="snack-button" (click)="isModalOpen = !isModalOpen">Buy Snacks</button>
      <button id="completePurchase" (click)="completePurchase()">Complete purchase</button>
    </div>
    <p id="error-message" (click)="clearErrorMessage()"></p>

  </div>

  <div class="modal-container" [ngStyle]="{'display': isModalOpen ? 'flex' : 'none'}">
    <div class="modal">
      <h1 id="modal-title">Chose Snacks</h1>
      <span class="list" id="blist">
        <h2>Choose Beverage Size</h2>
        <span>
          <h3>Small</h3>
          <div>
            <button (click)="bsubstractSmall()">-</button>
            <input readonly type="number" value="{{bsmall_value}}">
            <button (click)="baddSmall()">+</button>
          </div>
        </span>
        <span>
          <h3>Medium</h3>
          <div>
            <button (click)="bsubstractMedium()">-</button>
            <input readonly type="number" value="{{bmedium_value}}">
            <button (click)="baddMedium()">+</button>
          </div>
        </span>
        <span>
          <h3>Large</h3>
          <div>
            <button (click)="bsubstractLarge()">-</button>
            <input readonly type="number" value="{{blarge_value}}">
            <button (click)="baddLarge()">+</button>
          </div>
        </span>
      </span>
      <span class="list" id="plist">
        <h2>Chose Popcorn Size</h2>
        <span>
          <h3>Small</h3>
          <div>
            <button (click)="psubstractSmall()">-</button>
            <input readonly type="number" value="{{psmall_value}}">
            <button (click)="paddSmall()">+</button>
          </div>
        </span>
        <span>
          <h3>Medium</h3>
          <div>
            <button (click)="psubstractMedium()">-</button>
            <input readonly type="number" value="{{pmedium_value}}">
            <button (click)="paddMedium()">+</button>
          </div>
        </span>
        <span>
          <h3>Large</h3>
          <div>
            <button (click)="psubstractLarge()">-</button>
            <input readonly type="number" value="{{plarge_value}}">
            <button (click)="paddLarge()">+</button>
          </div>
        </span>
      </span>
      <div class="modal-footer-container">
        <button id="confirm-button" class="modal-footer-button" (click)="isModalOpen = !isModalOpen">Confirm</button>
        <button id="cancel-button" class="modal-footer-button"
          (click)="cancelOrder();isModalOpen = !isModalOpen">Cancel</button>
      </div>
    </div>
  </div>